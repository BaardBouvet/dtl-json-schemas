{
    "$schema": "../schemas/pipe.json",
    "_id": "a",
    "source": {
        "type": "embedded",
        "entities": [
            {
                "_id": ""
            },
            {
                "_id": "bar"
            }
        ]
    }, "transform": {
        "type": "dtl",
        "rules": {
            "default": [
                [
                    "copy",
                    "_id"
                ], [
                    "add",
                    "name",
                    "_S.ContactName"
                ], [
                    "add",
                    "some_target_property",
                    [
                        "apply",
                        "some_rule",
                        [
                            "hops",
                            {
                                "datasets": [
                                    "some_dataset a"
                                ],
                                "where": [
                                    [
                                        "eq",
                                        "_S.some_source_property",
                                        "a.some_other_property"
                                    ]
                                ]
                            }
                        ]
                    ]
                ]
            ]
        }
    }
}